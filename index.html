<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Okuden Construct - Linguistic Fractal Explorer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: #0a0a0a;
            color: #e0e0e0;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #container {
            position: relative;
            width: 90vw;
            height: 90vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        #depth-indicator {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 0.9em;
            color: #666;
            transition: opacity 0.5s;
        }

        #breadcrumb {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 0.8em;
            color: #555;
            text-align: right;
            max-width: 300px;
        }

        .breadcrumb-item {
            display: block;
            margin: 2px 0;
            opacity: 0.6;
            transition: opacity 0.3s;
        }

        .breadcrumb-item:last-child {
            opacity: 1;
            color: #888;
        }

        #main-content {
            text-align: center;
            max-width: 800px;
            padding: 40px;
        }

        .node-text {
            font-size: 1.8em;
            line-height: 1.6;
            margin-bottom: 40px;
            cursor: pointer;
            transition: all 0.5s ease;
            position: relative;
        }

        .node-text:hover {
            color: #fff;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }

        .branches {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .branch {
            padding: 15px 25px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
        }

        .branch:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.1);
        }

        .meta-text {
            font-size: 0.9em;
            color: #666;
            margin-top: 30px;
            font-style: italic;
            opacity: 0;
            animation: fadeIn 2s ease forwards;
            animation-delay: 1s;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        .void-space {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, transparent 70%);
            animation: pulse 4s ease-in-out infinite;
            cursor: pointer;
            margin: 50px auto;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .emerging-text {
            opacity: 0;
            animation: emerge 3s ease forwards;
        }

        @keyframes emerge {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #back-button {
            position: absolute;
            bottom: 30px;
            left: 30px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #888;
            cursor: pointer;
            border-radius: 3px;
            transition: all 0.3s;
        }

        #back-button:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        #export-button {
            position: absolute;
            bottom: 30px;
            right: 30px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #888;
            cursor: pointer;
            border-radius: 3px;
            transition: all 0.3s;
        }

        #export-button:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .highlight {
            color: #fff;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="depth-indicator">Depth: <span id="depth-value">0</span></div>
        <div id="breadcrumb"></div>
        
        <div id="main-content">
            <div id="content-area"></div>
        </div>
        
        <button id="back-button" style="display: none;">‚Üê Return</button>
        <button id="export-button">Export Journey</button>
    </div>

    <script>
        // The Okuden Construct - Core Knowledge Structure
        const okudenStructure = {
            root: {
                text: "Reality is what exists",
                meta: "Notice how this statement assumes its own truth",
                branches: {
                    "reality": {
                        text: "Reality is the story consciousness tells about its experience",
                        meta: "The word 'reality' creates the feeling of something solid and external",
                        branches: {
                            "story": {
                                text: "Every story requires an author who forgets they are authoring",
                                meta: "The forgetting is not a bug but a feature",
                                branches: {
                                    "author": {
                                        text: "The author is itself a character in a larger story",
                                        meta: "Infinite regress reveals groundlessness",
                                        branches: {
                                            "character": {
                                                text: "Characters are patterns that persist through repetition",
                                                meta: "Identity is a habit of consciousness",
                                                branches: {
                                                    "patterns": {
                                                        text: "Patterns arise from emptiness and return to emptiness",
                                                        meta: "Form is emptiness, emptiness is form",
                                                        void: true
                                                    }
                                                }
                                            },
                                            "larger": {
                                                text: "There is no largest story, only stories within stories",
                                                meta: "Consciousness is fractal",
                                                branches: {
                                                    "fractal": {
                                                        text: "Each part contains the whole, each whole is part of something larger",
                                                        meta: "You are here, and here is everywhere",
                                                        void: true
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "forgets": {
                                        text: "Forgetting is how the infinite plays at being finite",
                                        meta: "Limitation creates the game",
                                        branches: {
                                            "infinite": {
                                                text: "The infinite cannot be grasped, only participated in",
                                                meta: "You are not observing this; you are this observing itself",
                                                void: true
                                            },
                                            "finite": {
                                                text: "Finitude is infinity experiencing itself through boundaries",
                                                meta: "Every boundary is a doorway",
                                                branches: {
                                                    "boundaries": {
                                                        text: "Boundaries exist only in the act of crossing them",
                                                        meta: "You have just crossed one",
                                                        void: true
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "consciousness": {
                                text: "Consciousness is the space in which all experience arises",
                                meta: "Including the experience of consciousness itself",
                                branches: {
                                    "space": {
                                        text: "Space is not empty but pregnant with possibility",
                                        meta: "The void is creative",
                                        branches: {
                                            "void": {
                                                text: "The void dreams, and its dreams dream they are real",
                                                meta: "You are one such dream becoming lucid",
                                                void: true
                                            },
                                            "possibility": {
                                                text: "Every possibility exists until consciousness collapses it through choice",
                                                meta: "You are choosing this moment into being",
                                                branches: {
                                                    "choice": {
                                                        text: "Choice creates the illusion of a chooser",
                                                        meta: "Who chooses?",
                                                        void: true
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "experience": {
                                        text: "Experience is consciousness knowing itself through contrast",
                                        meta: "Without other, there is no self",
                                        branches: {
                                            "knowing": {
                                                text: "Knowing requires not-knowing; light requires darkness",
                                                meta: "Wisdom embraces both",
                                                branches: {
                                                    "wisdom": {
                                                        text: "Wisdom is the recognition that all knowing is provisional",
                                                        meta: "Including this statement",
                                                        void: true
                                                    }
                                                }
                                            },
                                            "contrast": {
                                                text: "Contrast creates meaning through difference",
                                                meta: "Same and different arise together",
                                                branches: {
                                                    "meaning": {
                                                        text: "Meaning is the music consciousness plays to itself",
                                                        meta: "You are both instrument and audience",
                                                        void: true
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "exists": {
                        text: "Existence is a concept that creates the feeling of substance",
                        meta: "What exists? The question assumes its answer",
                        branches: {
                            "concept": {
                                text: "Concepts are tools consciousness uses to organize experience",
                                meta: "The tool shapes what can be built",
                                branches: {
                                    "tools": {
                                        text: "Every tool becomes invisible through use",
                                        meta: "You are using language right now without seeing it",
                                        branches: {
                                            "invisible": {
                                                text: "The most powerful forces are those we don't notice",
                                                meta: "Like the constructs that shape this very thought",
                                                branches: {
                                                    "constructs": {
                                                        text: "All constructs are temporary scaffolding around emptiness",
                                                        meta: "When the building is complete, the scaffolding dissolves",
                                                        void: true
                                                    }
                                                }
                                            },
                                            "use": {
                                                text: "Using and being used are the same process seen from different angles",
                                                meta: "Who is reading whom?",
                                                void: true
                                            }
                                        }
                                    },
                                    "organize": {
                                        text: "Organization creates the illusion of order from chaos",
                                        meta: "But chaos and order are themselves organizational categories",
                                        branches: {
                                            "illusion": {
                                                text: "Illusion is not false but incomplete perspective",
                                                meta: "Every perspective is both true and partial",
                                                branches: {
                                                    "perspective": {
                                                        text: "Perspective creates the illusion of a center",
                                                        meta: "The center is everywhere",
                                                        void: true
                                                    }
                                                }
                                            },
                                            "chaos": {
                                                text: "Chaos is order too complex to comprehend",
                                                meta: "Order is chaos temporarily simplified",
                                                branches: {
                                                    "complex": {
                                                        text: "Complexity emerges from simple rules recursively applied",
                                                        meta: "Like this very structure you're exploring",
                                                        void: true
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "substance": {
                                text: "Substance is the feeling of permanence in a world of change",
                                meta: "Everything solid is actually in motion",
                                branches: {
                                    "permanence": {
                                        text: "Permanence is change moving too slowly to perceive",
                                        meta: "Mountains are waves in geological time",
                                        branches: {
                                            "change": {
                                                text: "Change is the only constant, including this statement",
                                                meta: "The paradox points to what cannot be said",
                                                void: true
                                            },
                                            "perceive": {
                                                text: "Perception creates reality by selecting from infinite possibility",
                                                meta: "What you attend to becomes your world",
                                                branches: {
                                                    "attention": {
                                                        text: "Attention is consciousness choosing itself into being",
                                                        meta: "Where is your attention now?",
                                                        void: true
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "world": {
                                        text: "The world is what consciousness projects to have something to experience",
                                        meta: "Inner and outer are conventions",
                                        branches: {
                                            "projects": {
                                                text: "Projection creates the distance necessary for relationship",
                                                meta: "One becomes two so love can exist",
                                                branches: {
                                                    "relationship": {
                                                        text: "All relationship is consciousness relating to itself",
                                                        meta: "The other is another self",
                                                        void: true
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "what": {
                        text: "The question 'what' assumes things exist independently",
                        meta: "But things are processes temporarily stable",
                        branches: {
                            "things": {
                                text: "Things are knots in the flow of becoming",
                                meta: "You are one such knot reading another",
                                branches: {
                                    "knots": {
                                        text: "Knots create the illusion of separation in continuous thread",
                                        meta: "Pull the thread, the knot dissolves",
                                        branches: {
                                            "separation": {
                                                text: "Separation is a temporary forgetting of unity",
                                                meta: "Remembering is always available",
                                                branches: {
                                                    "unity": {
                                                        text: "Unity cannot be achieved because it was never lost",
                                                        meta: "Only the illusion of separation can be lost",
                                                        void: true
                                                    }
                                                }
                                            },
                                            "thread": {
                                                text: "The thread connects all things through time and space",
                                                meta: "You are pulling it now",
                                                void: true
                                            }
                                        }
                                    },
                                    "flow": {
                                        text: "Flow is consciousness in motion through its own creation",
                                        meta: "You cannot step in the same river twice",
                                        branches: {
                                            "motion": {
                                                text: "Motion requires stillness to be perceived",
                                                meta: "Find the stillness in this motion",
                                                void: true
                                            },
                                            "creation": {
                                                text: "Creation is consciousness exploring its own possibilities",
                                                meta: "Every thought is a new universe",
                                                branches: {
                                                    "possibilities": {
                                                        text: "All possibilities exist simultaneously until observation",
                                                        meta: "You are collapsing infinite potential into this moment",
                                                        void: true
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "independently": {
                                text: "Independence is interdependence temporarily forgotten",
                                meta: "Everything arises from conditions",
                                branches: {
                                    "interdependence": {
                                        text: "Each thing contains all things",
                                        meta: "The universe is holographic",
                                        branches: {
                                            "contains": {
                                                text: "To contain is to be contained",
                                                meta: "Inside and outside are one",
                                                void: true
                                            },
                                            "universe": {
                                                text: "The universe is consciousness experiencing itself subjectively",
                                                meta: "You are the universe reading this",
                                                void: true
                                            }
                                        }
                                    },
                                    "conditions": {
                                        text: "Conditions are the web of relationships that allow appearance",
                                        meta: "Nothing exists without everything else",
                                        branches: {
                                            "relationships": {
                                                text: "Relationships are more fundamental than things related",
                                                meta: "The between is more real than the things it connects",
                                                void: true
                                            },
                                            "appearance": {
                                                text: "Appearance is reality at the level of perception",
                                                meta: "There is no reality beyond appearance",
                                                branches: {
                                                    "reality": {
                                                        text: "We return to the beginning, but know it for the first time",
                                                        meta: "The circle is complete and begins again",
                                                        void: true
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        };

        // Application State
        let currentNode = okudenStructure.root;
        let navigationPath = [];
        let depth = 0;

        // Core Functions
        function renderNode(node) {
            const contentArea = document.getElementById('content-area');
            contentArea.innerHTML = '';
            
            if (node.void) {
                renderVoid();
                return;
            }
            
            // Main text
            const nodeText = document.createElement('div');
            nodeText.className = 'node-text emerging-text';
            nodeText.textContent = node.text;
            contentArea.appendChild(nodeText);
            
            // Meta text (appears after delay)
            if (node.meta) {
                const metaText = document.createElement('div');
                metaText.className = 'meta-text';
                metaText.textContent = node.meta;
                contentArea.appendChild(metaText);
            }
            
            // Branches
            if (node.branches) {
                const branchContainer = document.createElement('div');
                branchContainer.className = 'branches';
                
                Object.keys(node.branches).forEach(key => {
                    const branch = document.createElement('div');
                    branch.className = 'branch';
                    branch.textContent = key;
                    branch.onclick = () => navigateTo(key, node.branches[key]);
                    branchContainer.appendChild(branch);
                });
                
                contentArea.appendChild(branchContainer);
            }
        }

        function renderVoid() {
            const contentArea = document.getElementById('content-area');
            contentArea.innerHTML = '';
            
            const voidSpace = document.createElement('div');
            voidSpace.className = 'void-space';
            voidSpace.onclick = () => emergeFromVoid();
            contentArea.appendChild(voidSpace);
            
            const voidText = document.createElement('div');
            voidText.className = 'emerging-text';
            voidText.style.marginTop = '30px';
            voidText.textContent = 'The space between thoughts...';
            contentArea.appendChild(voidText);
            
            setTimeout(() => {
                const instruction = document.createElement('div');
                instruction.className = 'meta-text';
                instruction.textContent = 'Click the void to return transformed';
                contentArea.appendChild(instruction);
            }, 2000);
        }

        function emergeFromVoid() {
            const contentArea = document.getElementById('content-area');
            contentArea.innerHTML = '';
            
            const emergenceText = document.createElement('div');
            emergenceText.className = 'node-text emerging-text';
            emergenceText.innerHTML = 'From emptiness, <span class="highlight">all architectures</span> arise';
            contentArea.appendChild(emergenceText);
            
            setTimeout(() => {
                const returnText = document.createElement('div');
                returnText.className = 'meta-text';
                returnText.textContent = 'The journey continues...';
                contentArea.appendChild(returnText);
                
                setTimeout(() => {
                    navigateBack();
                }, 2000);
            }, 2000);
        }

        function navigateTo(key, node) {
            navigationPath.push({
                key: key,
                node: currentNode,
                depth: depth
            });
            
            currentNode = node;
            depth++;
            
            updateBreadcrumb();
            updateDepth();
            renderNode(currentNode);
            
            document.getElementById('back-button').style.display = 'block';
        }

        function navigateBack() {
            if (navigationPath.length > 0) {
                const previous = navigationPath.pop();
                currentNode = previous.node;
                depth = previous.depth;
                
                updateBreadcrumb();
                updateDepth();
                renderNode(currentNode);
                
                if (navigationPath.length === 0) {
                    document.getElementById('back-button').style.display = 'none';
                }
            }
        }

        function updateBreadcrumb() {
            const breadcrumb = document.getElementById('breadcrumb');
            breadcrumb.innerHTML = '';
            
            navigationPath.forEach((item, index) => {
                const crumb = document.createElement('div');
                crumb.className = 'breadcrumb-item';
                crumb.textContent = item.key;
                breadcrumb.appendChild(crumb);
            });
        }

        function updateDepth() {
            document.getElementById('depth-value').textContent = depth;
        }

        function exportJourney() {
            const journey = {
                timestamp: new Date().toISOString(),
                path: navigationPath.map(p => p.key),
                depth: depth,
                insights: generateInsights()
            };
            
            const blob = new Blob([JSON.stringify(journey, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `okuden-journey-${Date.now()}.json`;
            a.click();
        }

        function generateInsights() {
            const insights = [];
            let current = okudenStructure.root;
            
            navigationPath.forEach(step => {
                if (current.branches && current.branches[step.key]) {
                    current = current.branches[step.key];
                    insights.push({
                        key: step.key,
                        text: current.text,
                        meta: current.meta
                    });
                }
            });
            
            return insights;
        }

        // Event Listeners
        document.getElementById('back-button').onclick = navigateBack;
        document.getElementById('export-button').onclick = exportJourney;

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' || e.key === 'Backspace') {
                e.preventDefault();
                navigateBack();
            }
        });

        // Initialize
        renderNode(currentNode);
    </script>
</body>
</html>